{% extends 'navbars/financenavbar.html' %}
{% block content %}
<style>
    h2{
        text-align: center;
        text-transform: uppercase;
    }
    #message{
        text-align: center;
        color: blue;
        font-weight: 800;
        text-transform: uppercase;
        padding: 10px;
    }
</style>
<h2>Donor commitment page</h2>
{% for message in messages %}
<p id="message">{{message}}</p>
{% endfor %}
<form method= 'post'class="d-flex" role="search">
  {% csrf_token %}
  {{ myFilter.form.as_p }}
  <button class="btn btn-primary" type="submit">Search</button>
</form>
<table style="margin-top: 20px;" class="table table-bordered">
    <thead>
      <tr>
        <th scope="col">Donor ID</th>
        <th scope="col">DonorName</th>
        <th scope="col">Committed Amount</th>
        <th scope="col">Contributed Amount</th>
        <th scope="col">Commitment Year</th>
        <th scope="col">Date added</th>
        <th>Actions</th>
      </tr>
    </thead>
    {% if fees %}

    {% for fees in fees %}
    <tbody>
      <tr>
        <td>{{fees.donor.id}}</td>
        <td>{{fees.donor.donorName}}</td>
        <td>{{fees.committed_amount}}</td>
        <td>{{fees.contributed_amount}}</td>
        <td>{{fees.year}}</td>
        <td>{{fees.date_added}}</td>
        <td>
            <a href="{% url 'edit_donor_commitment' fee.id %}" class="btn btn-primary">Edit </a>            
            <a href="{% url 'delete_donor_commitment' fee.id %}" class="btn btn-danger">Delete</a>            
        </td>
      </tr>
    {% endfor %}
    </tbody>
    {% else %}
    <tbody>
      <tr>
        <td colspan="6">No Commitments found</td>
      </tr>
    </tbody>
    {% endif %}
  </table>
  <a href="{% url 'add_fee_commitment' %}" class="btn btn-primary">Add Fee Commitment</a>

{% endblock %}
